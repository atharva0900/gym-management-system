{"ast":null,"code":"var _jsxFileName = \"D:\\\\IT_VEDANT\\\\Final project\\\\gym-frontend-react-final2\\\\src\\\\userComponents\\\\Membership.js\",\n  _s = $RefreshSig$();\n// import React, { useContext, useEffect, useState } from \"react\";\n// import { useForm } from \"react-hook-form\";\n// import Swal from \"sweetalert2\";\n// import { LoginContext } from \"../context/LoginContext\";\n\n// const BASE = \"http://localhost:8080\";\n\n// export default function Membership() {\n//   const { userId, isLogin } = useContext(LoginContext);\n//   const { register, handleSubmit, reset } = useForm();\n//   const [packages, setPackages] = useState([]);\n//   const [trainers, setTrainers] = useState([]);\n\n//   const loadData = async () => {\n//     const pRes = await fetch(`${BASE}/api/packages`);\n//     const pObj = await pRes.json();\n//     setPackages(pObj.data || []);\n\n//     // Trainer endpoints per your backend\n//     const tRes = await fetch(`${BASE}/api/trainer/all-trainer`);\n//     const tObj = await tRes.json();\n//     setTrainers(tObj.data || []);\n//   };\n\n//   useEffect(() => {\n//     loadData();\n//   }, []);\n\n//   const postMembership = async (payload) => {\n//     // Primary intended endpoint (with leading slash)\n//     const res = await fetch(`${BASE}/api/memberships/add-membership`, {\n//       method: \"POST\",\n//       headers: { \"Content-Type\": \"application/json\" },\n//       body: JSON.stringify(payload),\n//     });\n//     if (res.ok) {\n//       return res;\n//     }\n//     // Fallback to handle missing leading slash in controller\n//     return fetch(`${BASE}/api/membershipsadd-membership`, {\n//       method: \"POST\",\n//       headers: { \"Content-Type\": \"application/json\" },\n//       body: JSON.stringify(payload),\n//     });\n//   };\n\n//   const onSubmit = async (f) => {\n//     const payload = {\n//       startDate: f.startDate,\n//       endDate: f.endDate,\n//       status: \"PENDING\",\n//       customer: { id: isLogin ? userId : parseInt(f.customerId) },\n//       gymPackage: { id: parseInt(f.packageId) },\n//       trainer: f.trainerId ? { id: parseInt(f.trainerId) } : null,\n//     };\n//     const res = await postMembership(payload);\n//     const obj = await res.json();\n//     if (res.ok) {\n//       Swal.fire(\"Membership\", obj.message || \"Created\", \"success\");\n//       reset();\n//     } else {\n//       Swal.fire(\n//         \"Failed\",\n//         obj.message || \"Could not create membership\",\n//         \"error\"\n//       );\n//     }\n//   };\n\n//   return (\n//     <div className=\"container py-4\">\n//       <h3 className=\"mb-3\">Create Membership</h3>\n//       <form onSubmit={handleSubmit(onSubmit)} className=\"row g-3\">\n//         {!isLogin && (\n//           <div className=\"col-md-4\">\n//             <label className=\"form-label\">Customer ID</label>\n//             <input\n//               className=\"form-control\"\n//               {...register(\"customerId\")}\n//               required\n//             />\n//           </div>\n//         )}\n//         <div className=\"col-md-4\">\n//           <label className=\"form-label\">Package</label>\n//           <select className=\"form-select\" {...register(\"packageId\")} required>\n//             <option value=\"\">Select package</option>\n//             {packages.map((p) => (\n//               <option key={p.id} value={p.id}>\n//                 {p.packageName}\n//               </option>\n//             ))}\n//           </select>\n//         </div>\n//         <div className=\"col-md-4\">\n//           <label className=\"form-label\">Trainer (optional)</label>\n//           <select className=\"form-select\" {...register(\"trainerId\")}>\n//             <option value=\"\">No trainer</option>\n//             {trainers.map((t) => (\n//               <option key={t.id} value={t.id}>\n//                 {t.username || t.name}\n//               </option>\n//             ))}\n//           </select>\n//         </div>\n//         {/* <div className=\"col-md-4\">\n//           <label className=\"form-label\">Start Date</label>\n//           <input\n//             type=\"date\"\n//             className=\"form-control\"\n//             {...register(\"startDate\")}\n//             required\n//           />\n//         </div>\n//         <div className=\"col-md-4\">\n//           <label className=\"form-label\">End Date</label>\n//           <input\n//             type=\"date\"\n//             className=\"form-control\"\n//             {...register(\"endDate\")}\n//             required\n//           />\n//         </div> */}\n//         <div className=\"col-12\">\n//           <button className=\"btn btn-primary\">\n//             <i className=\"bi bi-plus-circle\"></i> Submit\n//           </button>\n//         </div>\n//       </form>\n//     </div>\n//   );\n// }\n\n// import React, { useContext, useEffect, useState } from \"react\";\n// import { useForm } from \"react-hook-form\";\n// import Swal from \"sweetalert2\";\n// import { LoginContext } from \"../context/LoginContext\";\n\n// const BASE = \"http://localhost:8080\";\n\n// export default function Membership() {\n//   const { userId, isLogin } = useContext(LoginContext);\n//   const { register, handleSubmit, reset } = useForm();\n//   const [packages, setPackages] = useState([]);\n//   const [trainers, setTrainers] = useState([]);\n//   const [list, setList] = useState([]);\n\n//   const loadData = async () => {\n//     try {\n//       const pRes = await fetch(`${BASE}/api/packages`);\n//       const pObj = await pRes.json();\n//       setPackages(pObj.data || []);\n\n//       const tRes = await fetch(`${BASE}/api/trainer/all-trainer`);\n//       const tObj = await tRes.json();\n//       setTrainers(tObj.data || []);\n//     } catch (err) {\n//       console.error(\"Failed to fetch packages/trainers\", err);\n//     }\n//   };\n\n//   useEffect(() => {\n//     loadData();\n//   }, []);\n\n//   const postMembership = async (payload) => {\n//     const res = await fetch(`${BASE}/api/memberships/add-membership`, {\n//       method: \"POST\",\n//       headers: { \"Content-Type\": \"application/json\" },\n//       body: JSON.stringify(payload),\n//     });\n//     return res;\n//   };\n\n//   const onSubmit = async (f) => {\n//     const payload = {\n//       status: \"PENDING\",\n//       customer: { id: isLogin ? userId : parseInt(f.customerId) },\n//       gymPackage: { id: parseInt(f.packageId) },\n//       trainer: f.trainerId ? { id: parseInt(f.trainerId) } : null,\n//     };\n\n//     try {\n//       const res = await postMembership(payload);\n//       const obj = await res.json();\n//       if (res.ok) {\n//         Swal.fire(\"Membership\", obj.message || \"Created\", \"success\");\n//         reset();\n//       } else {\n//         Swal.fire(\n//           \"Failed\",\n//           obj.message || \"Could not create membership\",\n//           \"error\"\n//         );\n//       }\n//     } catch (err) {\n//       Swal.fire(\"Error\", \"Failed to connect to server\", \"error\");\n//     }\n//   };\n//   const load = async () => {\n//     if (!isLogin) return;\n\n//     const res = await fetch(`${BASE}/api/customers/${userId}`); //// imp\n//     const obj = await res.json();\n//     console.log(\"Fetched customer object:\", obj); // ðŸ‘ˆ log here\n//     console.log(obj);\n//   };\n\n//   useEffect(() => {\n//     if (isLogin) {\n//       load();\n//     }\n//   }, [isLogin, userId]);\n\n//   return (\n//     <>\n//       <div className=\"container py-4\">\n//         <h3 className=\"mb-3\">Create Membership</h3>\n//         <form\n//           onSubmit={handleSubmit(onSubmit)}\n//           className=\"row g-3 shadow p-4 rounded bg-light\"\n//         >\n//           {!isLogin && (\n//             <div className=\"col-md-6\">\n//               <label className=\"form-label\">Customer ID</label>\n//               <input\n//                 type=\"number\"\n//                 className=\"form-control\"\n//                 placeholder=\"Enter customer ID\"\n//                 {...register(\"customerId\")}\n//                 required\n//               />\n//             </div>\n//           )}\n\n//           <div className=\"col-md-6\">\n//             <label className=\"form-label\">Package</label>\n//             <select className=\"form-select\" {...register(\"packageId\")} required>\n//               <option value=\"\">-- Select a Package --</option>\n//               {packages.map((p) => (\n//                 <option key={p.id} value={p.id}>\n//                   {p.packageName}\n//                 </option>\n//               ))}\n//             </select>\n//           </div>\n\n//           <div className=\"col-md-6\">\n//             <label className=\"form-label\">Trainer (optional)</label>\n//             <select className=\"form-select\" {...register(\"trainerId\")}>\n//               <option value=\"\">-- No trainer --</option>\n//               {trainers.map((t) => (\n//                 <option key={t.id} value={t.id}>\n//                   {t.username || t.name}\n//                 </option>\n//               ))}\n//             </select>\n//           </div>\n\n//           <div className=\"col-12 text-end\">\n//             <button type=\"submit\" className=\"btn btn-primary px-4\">\n//               <i className=\"bi bi-plus-circle\"></i> Submit\n//             </button>\n//           </div>\n//         </form>\n//       </div>\n\n//       <tbody>\n//         {list.memberships && list.memberships.length > 0 ? (\n//           list.memberships.map((m) => (\n//             <tr key={m.id}>\n//               <td>{list.name}</td> {/* customer name */}\n//               <td>{m.id}</td> {/* membership id */}\n//               <td>{m.gymPackage?.packageName}</td>\n//               <td>{m.trainer ? m.trainer.name : \"â€”\"}</td>\n//               <td>{m.status}</td>\n//             </tr>\n//           ))\n//         ) : (\n//           <tr>\n//             <td colSpan=\"5\" className=\"text-center\">\n//               No membership found\n//             </td>\n//           </tr>\n//         )}\n//       </tbody>\n//     </>\n//   );\n// }\n\n// import React, { useContext, useEffect, useState } from \"react\";\n// import { useForm } from \"react-hook-form\";\n// import Swal from \"sweetalert2\";\n// import { LoginContext } from \"../context/LoginContext\";\n\n// const BASE = \"http://localhost:8080\";\n\n// export default function Membership() {\n//   const { userId, isLogin } = useContext(LoginContext);\n//   const { register, handleSubmit, reset } = useForm();\n//   const [packages, setPackages] = useState([]);\n//   const [trainers, setTrainers] = useState([]);\n//   const [list, setList] = useState({}); // ðŸ‘ˆ should be object, not array\n\n//   // fetch packages and trainers\n//   const loadData = async () => {\n//     try {\n//       const pRes = await fetch(`${BASE}/api/packages`);\n//       const pObj = await pRes.json();\n//       setPackages(pObj.data || []);\n\n//       const tRes = await fetch(`${BASE}/api/trainer/all-trainer`);\n//       const tObj = await tRes.json();\n//       setTrainers(tObj.data || []);\n//     } catch (err) {\n//       console.error(\"Failed to fetch packages/trainers\", err);\n//     }\n//   };\n\n//   useEffect(() => {\n//     loadData();\n//   }, []);\n\n//   // post membership\n//   const postMembership = async (payload) => {\n//     const res = await fetch(`${BASE}/api/memberships/add-membership`, {\n//       method: \"POST\",\n//       headers: { \"Content-Type\": \"application/json\" },\n//       body: JSON.stringify(payload),\n//     });\n//     return res;\n//   };\n\n//   const onSubmit = async (f) => {\n//     const payload = {\n//       status: \"PENDING\",\n//       customer: { id: isLogin ? userId : parseInt(f.customerId) },\n//       gymPackage: { id: parseInt(f.packageId) },\n//       trainer: f.trainerId ? { id: parseInt(f.trainerId) } : null,\n//     };\n\n//     try {\n//       const res = await postMembership(payload);\n//       const obj = await res.json();\n//       if (res.ok) {\n//         Swal.fire(\"Membership\", obj.message || \"Created\", \"success\");\n//         reset();\n//         load(); // ðŸ‘ˆ reload memberships after creating\n//       } else {\n//         Swal.fire(\n//           \"Failed\",\n//           obj.message || \"Could not create membership\",\n//           \"error\"\n//         );\n//       }\n//     } catch (err) {\n//       Swal.fire(\"Error\", \"Failed to connect to server\", \"error\");\n//     }\n//   };\n\n//   // fetch memberships of logged in customer\n//   const load = async () => {\n//     if (!isLogin) return;\n\n//     const res = await fetch(`${BASE}/api/customers/${userId}`);\n//     const obj = await res.json();\n//     console.log(\"Fetched customer object:\", obj.data);\n\n//     setList(obj.data || {}); // ðŸ‘ˆ save customer with memberships\n//   };\n\n//   useEffect(() => {\n//     if (isLogin) {\n//       load();\n//     }\n//   }, [isLogin, userId]);\n\n//   return (\n//     <>\n//       <div className=\"container py-4\">\n//         <h3 className=\"mb-3\">Create Membership</h3>\n//         <form\n//           onSubmit={handleSubmit(onSubmit)}\n//           className=\"row g-3 shadow p-4 rounded bg-light\"\n//         >\n//           {!isLogin && (\n//             <div className=\"col-md-6\">\n//               <label className=\"form-label\">Customer ID</label>\n//               <input\n//                 type=\"number\"\n//                 className=\"form-control\"\n//                 placeholder=\"Enter customer ID\"\n//                 {...register(\"customerId\")}\n//                 required\n//               />\n//             </div>\n//           )}\n\n//           <div className=\"col-md-6\">\n//             <label className=\"form-label\">Package</label>\n//             <select className=\"form-select\" {...register(\"packageId\")} required>\n//               <option value=\"\">-- Select a Package --</option>\n//               {packages.map((p) => (\n//                 <option key={p.id} value={p.id}>\n//                   {p.packageName}\n//                 </option>\n//               ))}\n//             </select>\n//           </div>\n\n//           <div className=\"col-md-6\">\n//             <label className=\"form-label\">Trainer (optional)</label>\n//             <select className=\"form-select\" {...register(\"trainerId\")}>\n//               <option value=\"\">-- No trainer --</option>\n//               {trainers.map((t) => (\n//                 <option key={t.id} value={t.id}>\n//                   {t.username || t.name}\n//                 </option>\n//               ))}\n//             </select>\n//           </div>\n\n//           <div className=\"col-12 text-end\">\n//             <button type=\"submit\" className=\"btn btn-primary px-4\">\n//               <i className=\"bi bi-plus-circle\"></i> Submit\n//             </button>\n//           </div>\n//         </form>\n//       </div>\n\n//       {/* Membership Table */}\n//       <div className=\"row\">\n//         <div className=\"d-flex justify-content-center align-items-center mt-4\">\n//           <div className=\"col-md-6 col-lg-5\"></div>\n//         </div>\n\n//         {list.memberships && list.memberships.length > 0 ? (\n//           list.memberships.map((m) => (\n//             <div key={m.id} className=\"col-md-6 col-lg-4 mb-4\">\n//               <div className=\"card shadow-lg border-0 h-100\">\n//                 {/* Card Header */}\n//                 <div className=\"card-header bg-primary text-white\">\n//                   <h5 className=\"mb-0\">{list.name}</h5>\n//                   <small>\n//                     {list.email} | {list.phone}\n//                   </small>\n//                 </div>\n\n//                 {/* Card Body */}\n//                 <div className=\"card-body\">\n//                   <h6 className=\"card-title text-secondary\">\n//                     Package:{\" \"}\n//                     <span className=\"fw-bold text-dark\">\n//                       {m.gymPackage?.packageName || \"N/A\"}\n//                     </span>\n//                   </h6>\n//                   <p className=\"card-text mb-1\">\n//                     <strong>Trainer:</strong>{\" \"}\n//                     {m.trainer ? m.trainer.name : \"Not Assigned\"}\n//                   </p>\n//                   <p className=\"card-text mb-1\">\n//                     <strong>Duration:</strong>{\" \"}\n//                     {m.gymPackage?.durationInMonths\n//                       ? `${m.gymPackage.durationInMonths} months`\n//                       : \"N/A\"}\n//                   </p>\n//                   <p className=\"card-text mb-1\">\n//                     <strong>Price:</strong>{\" \"}\n//                     {m.gymPackage?.price ? `â‚¹${m.gymPackage.price}` : \"N/A\"}\n//                   </p>\n//                   <p className=\"card-text mb-1\">\n//                     <strong>Status:</strong>{\" \"}\n//                     <span\n//                       className={`badge ${\n//                         m.status === \"ACTIVE\" ? \"bg-success\" : \"bg-danger\"\n//                       }`}\n//                     >\n//                       {m.status}\n//                     </span>\n//                   </p>\n//                   <p className=\"card-text mb-1\">\n//                     <strong>Expiry Date:</strong>{\" \"}\n//                     {m.endDate\n//                       ? new Date(m.endDate).toLocaleDateString()\n//                       : \"N/A\"}\n//                   </p>\n\n//                   {/* Extra Customer Info */}\n//                   <hr />\n//                   <p className=\"card-text mb-1\">\n//                     <strong>Age:</strong> {list.age || \"N/A\"}\n//                   </p>\n//                   <p className=\"card-text mb-1\">\n//                     <strong>Sex:</strong> {list.sex || \"N/A\"}\n//                   </p>\n//                   <p className=\"card-text mb-1\">\n//                     <strong>Weight:</strong> {list.weight || \"N/A\"} kg\n//                   </p>\n//                 </div>\n\n//                 {/* Card Footer */}\n//                 <div className=\"card-footer bg-light d-flex justify-content-between\">\n//                   <small className=\"text-muted\">Membership ID: {m.id}</small>\n//                   <button className=\"btn btn-sm btn-outline-primary\">\n//                     View Details\n//                   </button>\n//                 </div>\n//               </div>\n//             </div>\n//           ))\n//         ) : (\n//           <div className=\"col-12 text-center\">\n//             <p>No membership found</p>\n//           </div>\n//         )}\n//       </div>\n//     </>\n//   );\n// }\n\nimport React, { useContext, useEffect, useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport Swal from \"sweetalert2\";\nimport { LoginContext } from \"../context/LoginContext\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BASE = \"http://localhost:8080\";\nexport default function Membership() {\n  _s();\n  const {\n    userId,\n    isLogin\n  } = useContext(LoginContext);\n  const {\n    register,\n    handleSubmit,\n    reset\n  } = useForm();\n  const [packages, setPackages] = useState([]);\n  const [trainers, setTrainers] = useState([]);\n  const [list, setList] = useState({});\n  const navigate = useNavigate(() => {\n    navigate(\"/\");\n  });\n  // fetch packages and trainers\n  const loadData = async () => {\n    try {\n      const pRes = await fetch(`${BASE}/api/packages`);\n      const pObj = await pRes.json();\n      setPackages(pObj.data || []);\n      const tRes = await fetch(`${BASE}/api/trainer/all-trainer`);\n      const tObj = await tRes.json();\n      setTrainers(tObj.data || []);\n    } catch (err) {\n      console.error(\"Failed to fetch packages/trainers\", err);\n    }\n  };\n  useEffect(() => {\n    loadData();\n  }, []);\n\n  // post membership\n  const postMembership = async payload => {\n    const res = await fetch(`${BASE}/api/memberships/add-membership`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(payload)\n    });\n    return res;\n  };\n  const onSubmit = async f => {\n    const payload = {\n      status: \"PENDING\",\n      customer: {\n        id: isLogin ? userId : parseInt(f.customerId)\n      },\n      gymPackage: {\n        id: parseInt(f.packageId)\n      },\n      trainer: f.trainerId ? {\n        id: parseInt(f.trainerId)\n      } : null\n    };\n    try {\n      const res = await postMembership(payload);\n      const obj = await res.json();\n      if (res.ok) {\n        Swal.fire(\"Membership\", obj.message || \"Created\", \"success\");\n        reset();\n        load();\n      } else {\n        Swal.fire(\"Failed\", obj.message || \"Could not create membership\", \"error\");\n      }\n    } catch (err) {\n      Swal.fire(\"Error\", \"Failed to connect to server\", \"error\");\n    }\n  };\n\n  // fetch memberships of logged in customer\n  const load = async () => {\n    if (!isLogin) return;\n    const res = await fetch(`${BASE}/api/customers/${userId}`);\n    const obj = await res.json();\n    setList(obj.data || {});\n  };\n  useEffect(() => {\n    if (isLogin) {\n      load();\n    }\n  }, [isLogin, userId]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container my-5\",\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"btn btn-outline-dark\",\n      onClick: () => {\n        navigate(\"/\");\n      },\n      children: \"Home\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 612,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center mb-5\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"fw-bold\",\n        children: \"Customer Dashboard\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 622,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-muted\",\n        children: [\"Welcome \", list.name ? list.name : \"Customer\", \" | Manage your memberships here\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 623,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 621,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card shadow-lg mb-5 border-0\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-header bg-primary text-white\",\n        children: /*#__PURE__*/_jsxDEV(\"h5\", {\n          className: \"mb-0\",\n          children: \"Add New Membership\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 632,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 631,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-body\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit(onSubmit),\n          className: \"row g-3\",\n          children: [!isLogin && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form-label\",\n              children: \"Customer ID\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 638,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              className: \"form-control\",\n              placeholder: \"Enter customer ID\",\n              ...register(\"customerId\"),\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 639,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 637,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form-label\",\n              children: \"Package\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 650,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              className: \"form-select\",\n              ...register(\"packageId\"),\n              required: true,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"-- Select a Package --\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 656,\n                columnNumber: 17\n              }, this), packages.map(p => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: p.id,\n                children: `${p.packageName} and price  ${p.price}`\n              }, p.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 658,\n                columnNumber: 19\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 651,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 649,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form-label\",\n              children: \"Trainer (optional)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 666,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              className: \"form-select\",\n              ...register(\"trainerId\"),\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"-- No trainer --\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 668,\n                columnNumber: 17\n              }, this), trainers.map(t => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: t.id,\n                children: t.username || t.name\n              }, t.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 670,\n                columnNumber: 19\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 667,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 665,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-12 text-end\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"btn btn-success px-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"bi bi-plus-circle\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 679,\n                columnNumber: 17\n              }, this), \" Add Membership\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 678,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 677,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 635,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 634,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 630,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n      className: \"fw-bold mb-4\",\n      children: \"Your Memberships\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 687,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: list.memberships && list.memberships.length > 0 ? list.memberships.map(m => {\n        var _m$gymPackage, _m$gymPackage2, _m$gymPackage3;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-6 col-lg-4 mb-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card shadow-sm border-0 h-100\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-header bg-dark text-white\",\n              children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                className: \"mb-0\",\n                children: list.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 695,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                children: [list.email, \" | \", list.phone]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 696,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 694,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-body\",\n              children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                className: \"card-title text-primary fw-bold\",\n                children: ((_m$gymPackage = m.gymPackage) === null || _m$gymPackage === void 0 ? void 0 : _m$gymPackage.packageName) || \"N/A\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 703,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"mb-1\",\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Trainer:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 707,\n                  columnNumber: 21\n                }, this), \" \", m.trainer ? m.trainer.name : \"Not Assigned\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 706,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"mb-1\",\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Duration:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 711,\n                  columnNumber: 21\n                }, this), \" \", (_m$gymPackage2 = m.gymPackage) !== null && _m$gymPackage2 !== void 0 && _m$gymPackage2.durationInMonths ? `${m.gymPackage.durationInMonths} months` : \"N/A\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 710,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"mb-1\",\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Price:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 717,\n                  columnNumber: 21\n                }, this), \" \", (_m$gymPackage3 = m.gymPackage) !== null && _m$gymPackage3 !== void 0 && _m$gymPackage3.price ? `â‚¹${m.gymPackage.price}` : \"N/A\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 716,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"mb-1\",\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Status:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 721,\n                  columnNumber: 21\n                }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `badge ${m.status === \"APPROVED\" ? \"bg-success\" : \"bg-warning text-dark\"}`,\n                  children: m.status\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 722,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 720,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"mb-1\",\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Expiry:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 733,\n                  columnNumber: 21\n                }, this), \" \", m.endDate ? new Date(m.endDate).toLocaleDateString() : \"N/A\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 732,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 702,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-footer bg-light d-flex justify-content-between\",\n              children: /*#__PURE__*/_jsxDEV(\"small\", {\n                className: \"text-muted\",\n                children: [\"Membership ID: \", m.id]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 752,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 751,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 692,\n            columnNumber: 15\n          }, this)\n        }, m.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 691,\n          columnNumber: 13\n        }, this);\n      }) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-12 text-center\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"alert alert-info\",\n          children: \"No memberships found\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 762,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 761,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 688,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 611,\n    columnNumber: 5\n  }, this);\n}\n_s(Membership, \"0owY1Hi6c7jZB0dXUEN/p+Jqd8A=\", false, function () {\n  return [useForm, useNavigate];\n});\n_c = Membership;\nvar _c;\n$RefreshReg$(_c, \"Membership\");","map":{"version":3,"names":["React","useContext","useEffect","useState","useForm","Swal","LoginContext","useNavigate","jsxDEV","_jsxDEV","BASE","Membership","_s","userId","isLogin","register","handleSubmit","reset","packages","setPackages","trainers","setTrainers","list","setList","navigate","loadData","pRes","fetch","pObj","json","data","tRes","tObj","err","console","error","postMembership","payload","res","method","headers","body","JSON","stringify","onSubmit","f","status","customer","id","parseInt","customerId","gymPackage","packageId","trainer","trainerId","obj","ok","fire","message","load","className","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","name","type","placeholder","required","value","map","p","packageName","price","t","username","memberships","length","m","_m$gymPackage","_m$gymPackage2","_m$gymPackage3","email","phone","durationInMonths","endDate","Date","toLocaleDateString","_c","$RefreshReg$"],"sources":["D:/IT_VEDANT/Final project/gym-frontend-react-final2/src/userComponents/Membership.js"],"sourcesContent":["// import React, { useContext, useEffect, useState } from \"react\";\n// import { useForm } from \"react-hook-form\";\n// import Swal from \"sweetalert2\";\n// import { LoginContext } from \"../context/LoginContext\";\n\n// const BASE = \"http://localhost:8080\";\n\n// export default function Membership() {\n//   const { userId, isLogin } = useContext(LoginContext);\n//   const { register, handleSubmit, reset } = useForm();\n//   const [packages, setPackages] = useState([]);\n//   const [trainers, setTrainers] = useState([]);\n\n//   const loadData = async () => {\n//     const pRes = await fetch(`${BASE}/api/packages`);\n//     const pObj = await pRes.json();\n//     setPackages(pObj.data || []);\n\n//     // Trainer endpoints per your backend\n//     const tRes = await fetch(`${BASE}/api/trainer/all-trainer`);\n//     const tObj = await tRes.json();\n//     setTrainers(tObj.data || []);\n//   };\n\n//   useEffect(() => {\n//     loadData();\n//   }, []);\n\n//   const postMembership = async (payload) => {\n//     // Primary intended endpoint (with leading slash)\n//     const res = await fetch(`${BASE}/api/memberships/add-membership`, {\n//       method: \"POST\",\n//       headers: { \"Content-Type\": \"application/json\" },\n//       body: JSON.stringify(payload),\n//     });\n//     if (res.ok) {\n//       return res;\n//     }\n//     // Fallback to handle missing leading slash in controller\n//     return fetch(`${BASE}/api/membershipsadd-membership`, {\n//       method: \"POST\",\n//       headers: { \"Content-Type\": \"application/json\" },\n//       body: JSON.stringify(payload),\n//     });\n//   };\n\n//   const onSubmit = async (f) => {\n//     const payload = {\n//       startDate: f.startDate,\n//       endDate: f.endDate,\n//       status: \"PENDING\",\n//       customer: { id: isLogin ? userId : parseInt(f.customerId) },\n//       gymPackage: { id: parseInt(f.packageId) },\n//       trainer: f.trainerId ? { id: parseInt(f.trainerId) } : null,\n//     };\n//     const res = await postMembership(payload);\n//     const obj = await res.json();\n//     if (res.ok) {\n//       Swal.fire(\"Membership\", obj.message || \"Created\", \"success\");\n//       reset();\n//     } else {\n//       Swal.fire(\n//         \"Failed\",\n//         obj.message || \"Could not create membership\",\n//         \"error\"\n//       );\n//     }\n//   };\n\n//   return (\n//     <div className=\"container py-4\">\n//       <h3 className=\"mb-3\">Create Membership</h3>\n//       <form onSubmit={handleSubmit(onSubmit)} className=\"row g-3\">\n//         {!isLogin && (\n//           <div className=\"col-md-4\">\n//             <label className=\"form-label\">Customer ID</label>\n//             <input\n//               className=\"form-control\"\n//               {...register(\"customerId\")}\n//               required\n//             />\n//           </div>\n//         )}\n//         <div className=\"col-md-4\">\n//           <label className=\"form-label\">Package</label>\n//           <select className=\"form-select\" {...register(\"packageId\")} required>\n//             <option value=\"\">Select package</option>\n//             {packages.map((p) => (\n//               <option key={p.id} value={p.id}>\n//                 {p.packageName}\n//               </option>\n//             ))}\n//           </select>\n//         </div>\n//         <div className=\"col-md-4\">\n//           <label className=\"form-label\">Trainer (optional)</label>\n//           <select className=\"form-select\" {...register(\"trainerId\")}>\n//             <option value=\"\">No trainer</option>\n//             {trainers.map((t) => (\n//               <option key={t.id} value={t.id}>\n//                 {t.username || t.name}\n//               </option>\n//             ))}\n//           </select>\n//         </div>\n//         {/* <div className=\"col-md-4\">\n//           <label className=\"form-label\">Start Date</label>\n//           <input\n//             type=\"date\"\n//             className=\"form-control\"\n//             {...register(\"startDate\")}\n//             required\n//           />\n//         </div>\n//         <div className=\"col-md-4\">\n//           <label className=\"form-label\">End Date</label>\n//           <input\n//             type=\"date\"\n//             className=\"form-control\"\n//             {...register(\"endDate\")}\n//             required\n//           />\n//         </div> */}\n//         <div className=\"col-12\">\n//           <button className=\"btn btn-primary\">\n//             <i className=\"bi bi-plus-circle\"></i> Submit\n//           </button>\n//         </div>\n//       </form>\n//     </div>\n//   );\n// }\n\n// import React, { useContext, useEffect, useState } from \"react\";\n// import { useForm } from \"react-hook-form\";\n// import Swal from \"sweetalert2\";\n// import { LoginContext } from \"../context/LoginContext\";\n\n// const BASE = \"http://localhost:8080\";\n\n// export default function Membership() {\n//   const { userId, isLogin } = useContext(LoginContext);\n//   const { register, handleSubmit, reset } = useForm();\n//   const [packages, setPackages] = useState([]);\n//   const [trainers, setTrainers] = useState([]);\n//   const [list, setList] = useState([]);\n\n//   const loadData = async () => {\n//     try {\n//       const pRes = await fetch(`${BASE}/api/packages`);\n//       const pObj = await pRes.json();\n//       setPackages(pObj.data || []);\n\n//       const tRes = await fetch(`${BASE}/api/trainer/all-trainer`);\n//       const tObj = await tRes.json();\n//       setTrainers(tObj.data || []);\n//     } catch (err) {\n//       console.error(\"Failed to fetch packages/trainers\", err);\n//     }\n//   };\n\n//   useEffect(() => {\n//     loadData();\n//   }, []);\n\n//   const postMembership = async (payload) => {\n//     const res = await fetch(`${BASE}/api/memberships/add-membership`, {\n//       method: \"POST\",\n//       headers: { \"Content-Type\": \"application/json\" },\n//       body: JSON.stringify(payload),\n//     });\n//     return res;\n//   };\n\n//   const onSubmit = async (f) => {\n//     const payload = {\n//       status: \"PENDING\",\n//       customer: { id: isLogin ? userId : parseInt(f.customerId) },\n//       gymPackage: { id: parseInt(f.packageId) },\n//       trainer: f.trainerId ? { id: parseInt(f.trainerId) } : null,\n//     };\n\n//     try {\n//       const res = await postMembership(payload);\n//       const obj = await res.json();\n//       if (res.ok) {\n//         Swal.fire(\"Membership\", obj.message || \"Created\", \"success\");\n//         reset();\n//       } else {\n//         Swal.fire(\n//           \"Failed\",\n//           obj.message || \"Could not create membership\",\n//           \"error\"\n//         );\n//       }\n//     } catch (err) {\n//       Swal.fire(\"Error\", \"Failed to connect to server\", \"error\");\n//     }\n//   };\n//   const load = async () => {\n//     if (!isLogin) return;\n\n//     const res = await fetch(`${BASE}/api/customers/${userId}`); //// imp\n//     const obj = await res.json();\n//     console.log(\"Fetched customer object:\", obj); // ðŸ‘ˆ log here\n//     console.log(obj);\n//   };\n\n//   useEffect(() => {\n//     if (isLogin) {\n//       load();\n//     }\n//   }, [isLogin, userId]);\n\n//   return (\n//     <>\n//       <div className=\"container py-4\">\n//         <h3 className=\"mb-3\">Create Membership</h3>\n//         <form\n//           onSubmit={handleSubmit(onSubmit)}\n//           className=\"row g-3 shadow p-4 rounded bg-light\"\n//         >\n//           {!isLogin && (\n//             <div className=\"col-md-6\">\n//               <label className=\"form-label\">Customer ID</label>\n//               <input\n//                 type=\"number\"\n//                 className=\"form-control\"\n//                 placeholder=\"Enter customer ID\"\n//                 {...register(\"customerId\")}\n//                 required\n//               />\n//             </div>\n//           )}\n\n//           <div className=\"col-md-6\">\n//             <label className=\"form-label\">Package</label>\n//             <select className=\"form-select\" {...register(\"packageId\")} required>\n//               <option value=\"\">-- Select a Package --</option>\n//               {packages.map((p) => (\n//                 <option key={p.id} value={p.id}>\n//                   {p.packageName}\n//                 </option>\n//               ))}\n//             </select>\n//           </div>\n\n//           <div className=\"col-md-6\">\n//             <label className=\"form-label\">Trainer (optional)</label>\n//             <select className=\"form-select\" {...register(\"trainerId\")}>\n//               <option value=\"\">-- No trainer --</option>\n//               {trainers.map((t) => (\n//                 <option key={t.id} value={t.id}>\n//                   {t.username || t.name}\n//                 </option>\n//               ))}\n//             </select>\n//           </div>\n\n//           <div className=\"col-12 text-end\">\n//             <button type=\"submit\" className=\"btn btn-primary px-4\">\n//               <i className=\"bi bi-plus-circle\"></i> Submit\n//             </button>\n//           </div>\n//         </form>\n//       </div>\n\n//       <tbody>\n//         {list.memberships && list.memberships.length > 0 ? (\n//           list.memberships.map((m) => (\n//             <tr key={m.id}>\n//               <td>{list.name}</td> {/* customer name */}\n//               <td>{m.id}</td> {/* membership id */}\n//               <td>{m.gymPackage?.packageName}</td>\n//               <td>{m.trainer ? m.trainer.name : \"â€”\"}</td>\n//               <td>{m.status}</td>\n//             </tr>\n//           ))\n//         ) : (\n//           <tr>\n//             <td colSpan=\"5\" className=\"text-center\">\n//               No membership found\n//             </td>\n//           </tr>\n//         )}\n//       </tbody>\n//     </>\n//   );\n// }\n\n// import React, { useContext, useEffect, useState } from \"react\";\n// import { useForm } from \"react-hook-form\";\n// import Swal from \"sweetalert2\";\n// import { LoginContext } from \"../context/LoginContext\";\n\n// const BASE = \"http://localhost:8080\";\n\n// export default function Membership() {\n//   const { userId, isLogin } = useContext(LoginContext);\n//   const { register, handleSubmit, reset } = useForm();\n//   const [packages, setPackages] = useState([]);\n//   const [trainers, setTrainers] = useState([]);\n//   const [list, setList] = useState({}); // ðŸ‘ˆ should be object, not array\n\n//   // fetch packages and trainers\n//   const loadData = async () => {\n//     try {\n//       const pRes = await fetch(`${BASE}/api/packages`);\n//       const pObj = await pRes.json();\n//       setPackages(pObj.data || []);\n\n//       const tRes = await fetch(`${BASE}/api/trainer/all-trainer`);\n//       const tObj = await tRes.json();\n//       setTrainers(tObj.data || []);\n//     } catch (err) {\n//       console.error(\"Failed to fetch packages/trainers\", err);\n//     }\n//   };\n\n//   useEffect(() => {\n//     loadData();\n//   }, []);\n\n//   // post membership\n//   const postMembership = async (payload) => {\n//     const res = await fetch(`${BASE}/api/memberships/add-membership`, {\n//       method: \"POST\",\n//       headers: { \"Content-Type\": \"application/json\" },\n//       body: JSON.stringify(payload),\n//     });\n//     return res;\n//   };\n\n//   const onSubmit = async (f) => {\n//     const payload = {\n//       status: \"PENDING\",\n//       customer: { id: isLogin ? userId : parseInt(f.customerId) },\n//       gymPackage: { id: parseInt(f.packageId) },\n//       trainer: f.trainerId ? { id: parseInt(f.trainerId) } : null,\n//     };\n\n//     try {\n//       const res = await postMembership(payload);\n//       const obj = await res.json();\n//       if (res.ok) {\n//         Swal.fire(\"Membership\", obj.message || \"Created\", \"success\");\n//         reset();\n//         load(); // ðŸ‘ˆ reload memberships after creating\n//       } else {\n//         Swal.fire(\n//           \"Failed\",\n//           obj.message || \"Could not create membership\",\n//           \"error\"\n//         );\n//       }\n//     } catch (err) {\n//       Swal.fire(\"Error\", \"Failed to connect to server\", \"error\");\n//     }\n//   };\n\n//   // fetch memberships of logged in customer\n//   const load = async () => {\n//     if (!isLogin) return;\n\n//     const res = await fetch(`${BASE}/api/customers/${userId}`);\n//     const obj = await res.json();\n//     console.log(\"Fetched customer object:\", obj.data);\n\n//     setList(obj.data || {}); // ðŸ‘ˆ save customer with memberships\n//   };\n\n//   useEffect(() => {\n//     if (isLogin) {\n//       load();\n//     }\n//   }, [isLogin, userId]);\n\n//   return (\n//     <>\n//       <div className=\"container py-4\">\n//         <h3 className=\"mb-3\">Create Membership</h3>\n//         <form\n//           onSubmit={handleSubmit(onSubmit)}\n//           className=\"row g-3 shadow p-4 rounded bg-light\"\n//         >\n//           {!isLogin && (\n//             <div className=\"col-md-6\">\n//               <label className=\"form-label\">Customer ID</label>\n//               <input\n//                 type=\"number\"\n//                 className=\"form-control\"\n//                 placeholder=\"Enter customer ID\"\n//                 {...register(\"customerId\")}\n//                 required\n//               />\n//             </div>\n//           )}\n\n//           <div className=\"col-md-6\">\n//             <label className=\"form-label\">Package</label>\n//             <select className=\"form-select\" {...register(\"packageId\")} required>\n//               <option value=\"\">-- Select a Package --</option>\n//               {packages.map((p) => (\n//                 <option key={p.id} value={p.id}>\n//                   {p.packageName}\n//                 </option>\n//               ))}\n//             </select>\n//           </div>\n\n//           <div className=\"col-md-6\">\n//             <label className=\"form-label\">Trainer (optional)</label>\n//             <select className=\"form-select\" {...register(\"trainerId\")}>\n//               <option value=\"\">-- No trainer --</option>\n//               {trainers.map((t) => (\n//                 <option key={t.id} value={t.id}>\n//                   {t.username || t.name}\n//                 </option>\n//               ))}\n//             </select>\n//           </div>\n\n//           <div className=\"col-12 text-end\">\n//             <button type=\"submit\" className=\"btn btn-primary px-4\">\n//               <i className=\"bi bi-plus-circle\"></i> Submit\n//             </button>\n//           </div>\n//         </form>\n//       </div>\n\n//       {/* Membership Table */}\n//       <div className=\"row\">\n//         <div className=\"d-flex justify-content-center align-items-center mt-4\">\n//           <div className=\"col-md-6 col-lg-5\"></div>\n//         </div>\n\n//         {list.memberships && list.memberships.length > 0 ? (\n//           list.memberships.map((m) => (\n//             <div key={m.id} className=\"col-md-6 col-lg-4 mb-4\">\n//               <div className=\"card shadow-lg border-0 h-100\">\n//                 {/* Card Header */}\n//                 <div className=\"card-header bg-primary text-white\">\n//                   <h5 className=\"mb-0\">{list.name}</h5>\n//                   <small>\n//                     {list.email} | {list.phone}\n//                   </small>\n//                 </div>\n\n//                 {/* Card Body */}\n//                 <div className=\"card-body\">\n//                   <h6 className=\"card-title text-secondary\">\n//                     Package:{\" \"}\n//                     <span className=\"fw-bold text-dark\">\n//                       {m.gymPackage?.packageName || \"N/A\"}\n//                     </span>\n//                   </h6>\n//                   <p className=\"card-text mb-1\">\n//                     <strong>Trainer:</strong>{\" \"}\n//                     {m.trainer ? m.trainer.name : \"Not Assigned\"}\n//                   </p>\n//                   <p className=\"card-text mb-1\">\n//                     <strong>Duration:</strong>{\" \"}\n//                     {m.gymPackage?.durationInMonths\n//                       ? `${m.gymPackage.durationInMonths} months`\n//                       : \"N/A\"}\n//                   </p>\n//                   <p className=\"card-text mb-1\">\n//                     <strong>Price:</strong>{\" \"}\n//                     {m.gymPackage?.price ? `â‚¹${m.gymPackage.price}` : \"N/A\"}\n//                   </p>\n//                   <p className=\"card-text mb-1\">\n//                     <strong>Status:</strong>{\" \"}\n//                     <span\n//                       className={`badge ${\n//                         m.status === \"ACTIVE\" ? \"bg-success\" : \"bg-danger\"\n//                       }`}\n//                     >\n//                       {m.status}\n//                     </span>\n//                   </p>\n//                   <p className=\"card-text mb-1\">\n//                     <strong>Expiry Date:</strong>{\" \"}\n//                     {m.endDate\n//                       ? new Date(m.endDate).toLocaleDateString()\n//                       : \"N/A\"}\n//                   </p>\n\n//                   {/* Extra Customer Info */}\n//                   <hr />\n//                   <p className=\"card-text mb-1\">\n//                     <strong>Age:</strong> {list.age || \"N/A\"}\n//                   </p>\n//                   <p className=\"card-text mb-1\">\n//                     <strong>Sex:</strong> {list.sex || \"N/A\"}\n//                   </p>\n//                   <p className=\"card-text mb-1\">\n//                     <strong>Weight:</strong> {list.weight || \"N/A\"} kg\n//                   </p>\n//                 </div>\n\n//                 {/* Card Footer */}\n//                 <div className=\"card-footer bg-light d-flex justify-content-between\">\n//                   <small className=\"text-muted\">Membership ID: {m.id}</small>\n//                   <button className=\"btn btn-sm btn-outline-primary\">\n//                     View Details\n//                   </button>\n//                 </div>\n//               </div>\n//             </div>\n//           ))\n//         ) : (\n//           <div className=\"col-12 text-center\">\n//             <p>No membership found</p>\n//           </div>\n//         )}\n//       </div>\n//     </>\n//   );\n// }\n\nimport React, { useContext, useEffect, useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport Swal from \"sweetalert2\";\nimport { LoginContext } from \"../context/LoginContext\";\nimport { useNavigate } from \"react-router-dom\";\n\nconst BASE = \"http://localhost:8080\";\n\nexport default function Membership() {\n  const { userId, isLogin } = useContext(LoginContext);\n  const { register, handleSubmit, reset } = useForm();\n  const [packages, setPackages] = useState([]);\n  const [trainers, setTrainers] = useState([]);\n  const [list, setList] = useState({});\n\n  const navigate = useNavigate(() => {\n    navigate(\"/\");\n  });\n  // fetch packages and trainers\n  const loadData = async () => {\n    try {\n      const pRes = await fetch(`${BASE}/api/packages`);\n      const pObj = await pRes.json();\n      setPackages(pObj.data || []);\n\n      const tRes = await fetch(`${BASE}/api/trainer/all-trainer`);\n      const tObj = await tRes.json();\n      setTrainers(tObj.data || []);\n    } catch (err) {\n      console.error(\"Failed to fetch packages/trainers\", err);\n    }\n  };\n\n  useEffect(() => {\n    loadData();\n  }, []);\n\n  // post membership\n  const postMembership = async (payload) => {\n    const res = await fetch(`${BASE}/api/memberships/add-membership`, {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify(payload),\n    });\n    return res;\n  };\n\n  const onSubmit = async (f) => {\n    const payload = {\n      status: \"PENDING\",\n      customer: { id: isLogin ? userId : parseInt(f.customerId) },\n      gymPackage: { id: parseInt(f.packageId) },\n      trainer: f.trainerId ? { id: parseInt(f.trainerId) } : null,\n    };\n\n    try {\n      const res = await postMembership(payload);\n      const obj = await res.json();\n      if (res.ok) {\n        Swal.fire(\"Membership\", obj.message || \"Created\", \"success\");\n        reset();\n        load();\n      } else {\n        Swal.fire(\n          \"Failed\",\n          obj.message || \"Could not create membership\",\n          \"error\"\n        );\n      }\n    } catch (err) {\n      Swal.fire(\"Error\", \"Failed to connect to server\", \"error\");\n    }\n  };\n\n  // fetch memberships of logged in customer\n  const load = async () => {\n    if (!isLogin) return;\n\n    const res = await fetch(`${BASE}/api/customers/${userId}`);\n    const obj = await res.json();\n    setList(obj.data || {});\n  };\n\n  useEffect(() => {\n    if (isLogin) {\n      load();\n    }\n  }, [isLogin, userId]);\n\n  return (\n    <div className=\"container my-5\">\n      <button\n        className=\"btn btn-outline-dark\"\n        onClick={() => {\n          navigate(\"/\");\n        }}\n      >\n        Home\n      </button>\n      {/* Header Section */}\n      <div className=\"text-center mb-5\">\n        <h2 className=\"fw-bold\">Customer Dashboard</h2>\n        <p className=\"text-muted\">\n          Welcome {list.name ? list.name : \"Customer\"} | Manage your memberships\n          here\n        </p>\n      </div>\n\n      {/* Create Membership Form */}\n      <div className=\"card shadow-lg mb-5 border-0\">\n        <div className=\"card-header bg-primary text-white\">\n          <h5 className=\"mb-0\">Add New Membership</h5>\n        </div>\n        <div className=\"card-body\">\n          <form onSubmit={handleSubmit(onSubmit)} className=\"row g-3\">\n            {!isLogin && (\n              <div className=\"col-md-6\">\n                <label className=\"form-label\">Customer ID</label>\n                <input\n                  type=\"number\"\n                  className=\"form-control\"\n                  placeholder=\"Enter customer ID\"\n                  {...register(\"customerId\")}\n                  required\n                />\n              </div>\n            )}\n\n            <div className=\"col-md-6\">\n              <label className=\"form-label\">Package</label>\n              <select\n                className=\"form-select\"\n                {...register(\"packageId\")}\n                required\n              >\n                <option value=\"\">-- Select a Package --</option>\n                {packages.map((p) => (\n                  <option key={p.id} value={p.id}>\n                    {`${p.packageName} and price  ${p.price}`}\n                  </option>\n                ))}\n              </select>\n            </div>\n\n            <div className=\"col-md-6\">\n              <label className=\"form-label\">Trainer (optional)</label>\n              <select className=\"form-select\" {...register(\"trainerId\")}>\n                <option value=\"\">-- No trainer --</option>\n                {trainers.map((t) => (\n                  <option key={t.id} value={t.id}>\n                    {t.username || t.name}\n                  </option>\n                ))}\n              </select>\n            </div>\n\n            <div className=\"col-12 text-end\">\n              <button type=\"submit\" className=\"btn btn-success px-4\">\n                <i className=\"bi bi-plus-circle\"></i> Add Membership\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n\n      {/* Memberships Section */}\n      <h4 className=\"fw-bold mb-4\">Your Memberships</h4>\n      <div className=\"row\">\n        {list.memberships && list.memberships.length > 0 ? (\n          list.memberships.map((m) => (\n            <div key={m.id} className=\"col-md-6 col-lg-4 mb-4\">\n              <div className=\"card shadow-sm border-0 h-100\">\n                {/* Card Header */}\n                <div className=\"card-header bg-dark text-white\">\n                  <h5 className=\"mb-0\">{list.name}</h5>\n                  <small>\n                    {list.email} | {list.phone}\n                  </small>\n                </div>\n\n                {/* Card Body */}\n                <div className=\"card-body\">\n                  <h6 className=\"card-title text-primary fw-bold\">\n                    {m.gymPackage?.packageName || \"N/A\"}\n                  </h6>\n                  <p className=\"mb-1\">\n                    <strong>Trainer:</strong>{\" \"}\n                    {m.trainer ? m.trainer.name : \"Not Assigned\"}\n                  </p>\n                  <p className=\"mb-1\">\n                    <strong>Duration:</strong>{\" \"}\n                    {m.gymPackage?.durationInMonths\n                      ? `${m.gymPackage.durationInMonths} months`\n                      : \"N/A\"}\n                  </p>\n                  <p className=\"mb-1\">\n                    <strong>Price:</strong>{\" \"}\n                    {m.gymPackage?.price ? `â‚¹${m.gymPackage.price}` : \"N/A\"}\n                  </p>\n                  <p className=\"mb-1\">\n                    <strong>Status:</strong>{\" \"}\n                    <span\n                      className={`badge ${\n                        m.status === \"APPROVED\"\n                          ? \"bg-success\"\n                          : \"bg-warning text-dark\"\n                      }`}\n                    >\n                      {m.status}\n                    </span>\n                  </p>\n                  <p className=\"mb-1\">\n                    <strong>Expiry:</strong>{\" \"}\n                    {m.endDate\n                      ? new Date(m.endDate).toLocaleDateString()\n                      : \"N/A\"}\n                  </p>\n                  {/* <hr />\n                  <p className=\"mb-1\">\n                    <strong>Age:</strong> {list.age || \"N/A\"}\n                  </p>\n                  <p className=\"mb-1\">\n                    <strong>Sex:</strong> {list.sex || \"N/A\"}\n                  </p>\n                  <p className=\"mb-1\">\n                    <strong>Weight:</strong> {list.weight || \"N/A\"} kg\n                  </p> */}\n                </div>\n\n                {/* Footer */}\n                <div className=\"card-footer bg-light d-flex justify-content-between\">\n                  <small className=\"text-muted\">Membership ID: {m.id}</small>\n                  {/* <button className=\"btn btn-sm btn-outline-primary\">\n                    View Details\n                  </button> */}\n                </div>\n              </div>\n            </div>\n          ))\n        ) : (\n          <div className=\"col-12 text-center\">\n            <div className=\"alert alert-info\">No memberships found</div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"mappings":";;AAAA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAOA,KAAK,IAAIC,UAAU,EAAEC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC9D,SAASC,OAAO,QAAQ,iBAAiB;AACzC,OAAOC,IAAI,MAAM,aAAa;AAC9B,SAASC,YAAY,QAAQ,yBAAyB;AACtD,SAASC,WAAW,QAAQ,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE/C,MAAMC,IAAI,GAAG,uBAAuB;AAEpC,eAAe,SAASC,UAAUA,CAAA,EAAG;EAAAC,EAAA;EACnC,MAAM;IAAEC,MAAM;IAAEC;EAAQ,CAAC,GAAGb,UAAU,CAACK,YAAY,CAAC;EACpD,MAAM;IAAES,QAAQ;IAAEC,YAAY;IAAEC;EAAM,CAAC,GAAGb,OAAO,CAAC,CAAC;EACnD,MAAM,CAACc,QAAQ,EAAEC,WAAW,CAAC,GAAGhB,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACiB,QAAQ,EAAEC,WAAW,CAAC,GAAGlB,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACmB,IAAI,EAAEC,OAAO,CAAC,GAAGpB,QAAQ,CAAC,CAAC,CAAC,CAAC;EAEpC,MAAMqB,QAAQ,GAAGjB,WAAW,CAAC,MAAM;IACjCiB,QAAQ,CAAC,GAAG,CAAC;EACf,CAAC,CAAC;EACF;EACA,MAAMC,QAAQ,GAAG,MAAAA,CAAA,KAAY;IAC3B,IAAI;MACF,MAAMC,IAAI,GAAG,MAAMC,KAAK,CAAC,GAAGjB,IAAI,eAAe,CAAC;MAChD,MAAMkB,IAAI,GAAG,MAAMF,IAAI,CAACG,IAAI,CAAC,CAAC;MAC9BV,WAAW,CAACS,IAAI,CAACE,IAAI,IAAI,EAAE,CAAC;MAE5B,MAAMC,IAAI,GAAG,MAAMJ,KAAK,CAAC,GAAGjB,IAAI,0BAA0B,CAAC;MAC3D,MAAMsB,IAAI,GAAG,MAAMD,IAAI,CAACF,IAAI,CAAC,CAAC;MAC9BR,WAAW,CAACW,IAAI,CAACF,IAAI,IAAI,EAAE,CAAC;IAC9B,CAAC,CAAC,OAAOG,GAAG,EAAE;MACZC,OAAO,CAACC,KAAK,CAAC,mCAAmC,EAAEF,GAAG,CAAC;IACzD;EACF,CAAC;EAED/B,SAAS,CAAC,MAAM;IACduB,QAAQ,CAAC,CAAC;EACZ,CAAC,EAAE,EAAE,CAAC;;EAEN;EACA,MAAMW,cAAc,GAAG,MAAOC,OAAO,IAAK;IACxC,MAAMC,GAAG,GAAG,MAAMX,KAAK,CAAC,GAAGjB,IAAI,iCAAiC,EAAE;MAChE6B,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QAAE,cAAc,EAAE;MAAmB,CAAC;MAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACN,OAAO;IAC9B,CAAC,CAAC;IACF,OAAOC,GAAG;EACZ,CAAC;EAED,MAAMM,QAAQ,GAAG,MAAOC,CAAC,IAAK;IAC5B,MAAMR,OAAO,GAAG;MACdS,MAAM,EAAE,SAAS;MACjBC,QAAQ,EAAE;QAAEC,EAAE,EAAElC,OAAO,GAAGD,MAAM,GAAGoC,QAAQ,CAACJ,CAAC,CAACK,UAAU;MAAE,CAAC;MAC3DC,UAAU,EAAE;QAAEH,EAAE,EAAEC,QAAQ,CAACJ,CAAC,CAACO,SAAS;MAAE,CAAC;MACzCC,OAAO,EAAER,CAAC,CAACS,SAAS,GAAG;QAAEN,EAAE,EAAEC,QAAQ,CAACJ,CAAC,CAACS,SAAS;MAAE,CAAC,GAAG;IACzD,CAAC;IAED,IAAI;MACF,MAAMhB,GAAG,GAAG,MAAMF,cAAc,CAACC,OAAO,CAAC;MACzC,MAAMkB,GAAG,GAAG,MAAMjB,GAAG,CAACT,IAAI,CAAC,CAAC;MAC5B,IAAIS,GAAG,CAACkB,EAAE,EAAE;QACVnD,IAAI,CAACoD,IAAI,CAAC,YAAY,EAAEF,GAAG,CAACG,OAAO,IAAI,SAAS,EAAE,SAAS,CAAC;QAC5DzC,KAAK,CAAC,CAAC;QACP0C,IAAI,CAAC,CAAC;MACR,CAAC,MAAM;QACLtD,IAAI,CAACoD,IAAI,CACP,QAAQ,EACRF,GAAG,CAACG,OAAO,IAAI,6BAA6B,EAC5C,OACF,CAAC;MACH;IACF,CAAC,CAAC,OAAOzB,GAAG,EAAE;MACZ5B,IAAI,CAACoD,IAAI,CAAC,OAAO,EAAE,6BAA6B,EAAE,OAAO,CAAC;IAC5D;EACF,CAAC;;EAED;EACA,MAAME,IAAI,GAAG,MAAAA,CAAA,KAAY;IACvB,IAAI,CAAC7C,OAAO,EAAE;IAEd,MAAMwB,GAAG,GAAG,MAAMX,KAAK,CAAC,GAAGjB,IAAI,kBAAkBG,MAAM,EAAE,CAAC;IAC1D,MAAM0C,GAAG,GAAG,MAAMjB,GAAG,CAACT,IAAI,CAAC,CAAC;IAC5BN,OAAO,CAACgC,GAAG,CAACzB,IAAI,IAAI,CAAC,CAAC,CAAC;EACzB,CAAC;EAED5B,SAAS,CAAC,MAAM;IACd,IAAIY,OAAO,EAAE;MACX6C,IAAI,CAAC,CAAC;IACR;EACF,CAAC,EAAE,CAAC7C,OAAO,EAAED,MAAM,CAAC,CAAC;EAErB,oBACEJ,OAAA;IAAKmD,SAAS,EAAC,gBAAgB;IAAAC,QAAA,gBAC7BpD,OAAA;MACEmD,SAAS,EAAC,sBAAsB;MAChCE,OAAO,EAAEA,CAAA,KAAM;QACbtC,QAAQ,CAAC,GAAG,CAAC;MACf,CAAE;MAAAqC,QAAA,EACH;IAED;MAAAE,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC,eAETzD,OAAA;MAAKmD,SAAS,EAAC,kBAAkB;MAAAC,QAAA,gBAC/BpD,OAAA;QAAImD,SAAS,EAAC,SAAS;QAAAC,QAAA,EAAC;MAAkB;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAC/CzD,OAAA;QAAGmD,SAAS,EAAC,YAAY;QAAAC,QAAA,GAAC,UAChB,EAACvC,IAAI,CAAC6C,IAAI,GAAG7C,IAAI,CAAC6C,IAAI,GAAG,UAAU,EAAC,iCAE9C;MAAA;QAAAJ,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACD,CAAC,eAGNzD,OAAA;MAAKmD,SAAS,EAAC,8BAA8B;MAAAC,QAAA,gBAC3CpD,OAAA;QAAKmD,SAAS,EAAC,mCAAmC;QAAAC,QAAA,eAChDpD,OAAA;UAAImD,SAAS,EAAC,MAAM;UAAAC,QAAA,EAAC;QAAkB;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACzC,CAAC,eACNzD,OAAA;QAAKmD,SAAS,EAAC,WAAW;QAAAC,QAAA,eACxBpD,OAAA;UAAMmC,QAAQ,EAAE5B,YAAY,CAAC4B,QAAQ,CAAE;UAACgB,SAAS,EAAC,SAAS;UAAAC,QAAA,GACxD,CAAC/C,OAAO,iBACPL,OAAA;YAAKmD,SAAS,EAAC,UAAU;YAAAC,QAAA,gBACvBpD,OAAA;cAAOmD,SAAS,EAAC,YAAY;cAAAC,QAAA,EAAC;YAAW;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eACjDzD,OAAA;cACE2D,IAAI,EAAC,QAAQ;cACbR,SAAS,EAAC,cAAc;cACxBS,WAAW,EAAC,mBAAmB;cAAA,GAC3BtD,QAAQ,CAAC,YAAY,CAAC;cAC1BuD,QAAQ;YAAA;cAAAP,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACT,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CACN,eAEDzD,OAAA;YAAKmD,SAAS,EAAC,UAAU;YAAAC,QAAA,gBACvBpD,OAAA;cAAOmD,SAAS,EAAC,YAAY;cAAAC,QAAA,EAAC;YAAO;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eAC7CzD,OAAA;cACEmD,SAAS,EAAC,aAAa;cAAA,GACnB7C,QAAQ,CAAC,WAAW,CAAC;cACzBuD,QAAQ;cAAAT,QAAA,gBAERpD,OAAA;gBAAQ8D,KAAK,EAAC,EAAE;gBAAAV,QAAA,EAAC;cAAsB;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,EAC/ChD,QAAQ,CAACsD,GAAG,CAAEC,CAAC,iBACdhE,OAAA;gBAAmB8D,KAAK,EAAEE,CAAC,CAACzB,EAAG;gBAAAa,QAAA,EAC5B,GAAGY,CAAC,CAACC,WAAW,eAAeD,CAAC,CAACE,KAAK;cAAE,GAD9BF,CAAC,CAACzB,EAAE;gBAAAe,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAET,CACT,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACI,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACN,CAAC,eAENzD,OAAA;YAAKmD,SAAS,EAAC,UAAU;YAAAC,QAAA,gBACvBpD,OAAA;cAAOmD,SAAS,EAAC,YAAY;cAAAC,QAAA,EAAC;YAAkB;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eACxDzD,OAAA;cAAQmD,SAAS,EAAC,aAAa;cAAA,GAAK7C,QAAQ,CAAC,WAAW,CAAC;cAAA8C,QAAA,gBACvDpD,OAAA;gBAAQ8D,KAAK,EAAC,EAAE;gBAAAV,QAAA,EAAC;cAAgB;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,EACzC9C,QAAQ,CAACoD,GAAG,CAAEI,CAAC,iBACdnE,OAAA;gBAAmB8D,KAAK,EAAEK,CAAC,CAAC5B,EAAG;gBAAAa,QAAA,EAC5Be,CAAC,CAACC,QAAQ,IAAID,CAAC,CAACT;cAAI,GADVS,CAAC,CAAC5B,EAAE;gBAAAe,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAET,CACT,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACI,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACN,CAAC,eAENzD,OAAA;YAAKmD,SAAS,EAAC,iBAAiB;YAAAC,QAAA,eAC9BpD,OAAA;cAAQ2D,IAAI,EAAC,QAAQ;cAACR,SAAS,EAAC,sBAAsB;cAAAC,QAAA,gBACpDpD,OAAA;gBAAGmD,SAAS,EAAC;cAAmB;gBAAAG,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,mBACvC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACN,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACF;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACJ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eAGNzD,OAAA;MAAImD,SAAS,EAAC,cAAc;MAAAC,QAAA,EAAC;IAAgB;MAAAE,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAClDzD,OAAA;MAAKmD,SAAS,EAAC,KAAK;MAAAC,QAAA,EACjBvC,IAAI,CAACwD,WAAW,IAAIxD,IAAI,CAACwD,WAAW,CAACC,MAAM,GAAG,CAAC,GAC9CzD,IAAI,CAACwD,WAAW,CAACN,GAAG,CAAEQ,CAAC;QAAA,IAAAC,aAAA,EAAAC,cAAA,EAAAC,cAAA;QAAA,oBACrB1E,OAAA;UAAgBmD,SAAS,EAAC,wBAAwB;UAAAC,QAAA,eAChDpD,OAAA;YAAKmD,SAAS,EAAC,+BAA+B;YAAAC,QAAA,gBAE5CpD,OAAA;cAAKmD,SAAS,EAAC,gCAAgC;cAAAC,QAAA,gBAC7CpD,OAAA;gBAAImD,SAAS,EAAC,MAAM;gBAAAC,QAAA,EAAEvC,IAAI,CAAC6C;cAAI;gBAAAJ,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC,eACrCzD,OAAA;gBAAAoD,QAAA,GACGvC,IAAI,CAAC8D,KAAK,EAAC,KAAG,EAAC9D,IAAI,CAAC+D,KAAK;cAAA;gBAAAtB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACrB,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACL,CAAC,eAGNzD,OAAA;cAAKmD,SAAS,EAAC,WAAW;cAAAC,QAAA,gBACxBpD,OAAA;gBAAImD,SAAS,EAAC,iCAAiC;gBAAAC,QAAA,EAC5C,EAAAoB,aAAA,GAAAD,CAAC,CAAC7B,UAAU,cAAA8B,aAAA,uBAAZA,aAAA,CAAcP,WAAW,KAAI;cAAK;gBAAAX,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACjC,CAAC,eACLzD,OAAA;gBAAGmD,SAAS,EAAC,MAAM;gBAAAC,QAAA,gBACjBpD,OAAA;kBAAAoD,QAAA,EAAQ;gBAAQ;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,EAAC,GAAG,EAC5Bc,CAAC,CAAC3B,OAAO,GAAG2B,CAAC,CAAC3B,OAAO,CAACc,IAAI,GAAG,cAAc;cAAA;gBAAAJ,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC3C,CAAC,eACJzD,OAAA;gBAAGmD,SAAS,EAAC,MAAM;gBAAAC,QAAA,gBACjBpD,OAAA;kBAAAoD,QAAA,EAAQ;gBAAS;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,EAAC,GAAG,EAC7B,CAAAgB,cAAA,GAAAF,CAAC,CAAC7B,UAAU,cAAA+B,cAAA,eAAZA,cAAA,CAAcI,gBAAgB,GAC3B,GAAGN,CAAC,CAAC7B,UAAU,CAACmC,gBAAgB,SAAS,GACzC,KAAK;cAAA;gBAAAvB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACR,CAAC,eACJzD,OAAA;gBAAGmD,SAAS,EAAC,MAAM;gBAAAC,QAAA,gBACjBpD,OAAA;kBAAAoD,QAAA,EAAQ;gBAAM;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,EAAC,GAAG,EAC1B,CAAAiB,cAAA,GAAAH,CAAC,CAAC7B,UAAU,cAAAgC,cAAA,eAAZA,cAAA,CAAcR,KAAK,GAAG,IAAIK,CAAC,CAAC7B,UAAU,CAACwB,KAAK,EAAE,GAAG,KAAK;cAAA;gBAAAZ,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACtD,CAAC,eACJzD,OAAA;gBAAGmD,SAAS,EAAC,MAAM;gBAAAC,QAAA,gBACjBpD,OAAA;kBAAAoD,QAAA,EAAQ;gBAAO;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,EAAC,GAAG,eAC5BzD,OAAA;kBACEmD,SAAS,EAAE,SACToB,CAAC,CAAClC,MAAM,KAAK,UAAU,GACnB,YAAY,GACZ,sBAAsB,EACzB;kBAAAe,QAAA,EAEFmB,CAAC,CAAClC;gBAAM;kBAAAiB,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACL,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACN,CAAC,eACJzD,OAAA;gBAAGmD,SAAS,EAAC,MAAM;gBAAAC,QAAA,gBACjBpD,OAAA;kBAAAoD,QAAA,EAAQ;gBAAO;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,EAAC,GAAG,EAC3Bc,CAAC,CAACO,OAAO,GACN,IAAIC,IAAI,CAACR,CAAC,CAACO,OAAO,CAAC,CAACE,kBAAkB,CAAC,CAAC,GACxC,KAAK;cAAA;gBAAA1B,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACR,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAWD,CAAC,eAGNzD,OAAA;cAAKmD,SAAS,EAAC,qDAAqD;cAAAC,QAAA,eAClEpD,OAAA;gBAAOmD,SAAS,EAAC,YAAY;gBAAAC,QAAA,GAAC,iBAAe,EAACmB,CAAC,CAAChC,EAAE;cAAA;gBAAAe,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAIxD,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH;QAAC,GAlEEc,CAAC,CAAChC,EAAE;UAAAe,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAmET,CAAC;MAAA,CACP,CAAC,gBAEFzD,OAAA;QAAKmD,SAAS,EAAC,oBAAoB;QAAAC,QAAA,eACjCpD,OAAA;UAAKmD,SAAS,EAAC,kBAAkB;UAAAC,QAAA,EAAC;QAAoB;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACzD;IACN;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV;AAACtD,EAAA,CA/OuBD,UAAU;EAAA,QAEUP,OAAO,EAKhCG,WAAW;AAAA;AAAAmF,EAAA,GAPN/E,UAAU;AAAA,IAAA+E,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}